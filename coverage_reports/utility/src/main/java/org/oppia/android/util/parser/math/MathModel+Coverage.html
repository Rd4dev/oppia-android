<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coverage Report</title>
  <style>
    body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        padding: 20px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }
    th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #fdfdfd;
    }
    .line-number-col {
        width: 5%;
    }
    .source-code-col {
        width: 95%;
    }
    .covered-line, .not-covered-line, .uncovered-line {
        white-space: pre-wrap;
        word-wrap: break-word;
        box-sizing: border-box;
        border-radius: 4px;
        padding: 2px 8px 2px 4px;
        display: inline-block;
    }
    .covered-line {
        background-color: #c8e6c9; /* Light green */
    }
    .not-covered-line {
        background-color: #ffcdd2; /* Light red */
    }
    .uncovered-line {
        background-color: #fafafa; /* Half white */
    }
    .coverage-summary {
        margin-bottom: 20px;
    }
    h2 {
        text-align: center;
    }
    ul {
        list-style-type: none;
        padding: 0;
        text-align: center;
    }
    .summary-box {
        background-color: #f0f0f0;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 10px;
        margin-bottom: 20px;
        text-align: center;
    }
    @media screen and (max-width: 768px) {
        body {
            padding: 10px;
        }
        table {
            width: auto;
        }
    }
  </style>
</head>
<body>
  <h2>Coverage Report</h2>
  <div class="summary-box">
    <ul>
      <li><strong>Covered File:</strong> utility/src/main/java/org/oppia/android/util/parser/math/MathModel.kt</li>
      <li><strong>Coverage percentage:</strong> 100.00% covered</li>
      <li><strong>Line coverage:</strong> 19 covered / 19 found</li>
    </ul>
  </div>
  <table>
    <thead>
      <tr>
        <th class="line-number-col">Line No</th>
        <th class="source-code-col">Source Code</th>
      </tr>
    </thead>
    <tbody><tr>
    <td>   1</td>
    <td class="uncovered-line">package org.oppia.android.util.parser.math</td>
</tr><tr>
    <td>   2</td>
    <td class="uncovered-line"></td>
</tr><tr>
    <td>   3</td>
    <td class="uncovered-line">import com.bumptech.glide.load.Key</td>
</tr><tr>
    <td>   4</td>
    <td class="uncovered-line">import java.nio.ByteBuffer</td>
</tr><tr>
    <td>   5</td>
    <td class="uncovered-line">import java.security.MessageDigest</td>
</tr><tr>
    <td>   6</td>
    <td class="uncovered-line"></td>
</tr><tr>
    <td>   7</td>
    <td class="uncovered-line">/**</td>
</tr><tr>
    <td>   8</td>
    <td class="uncovered-line"> * Represents a set of LaTeX that can be rendered as a single bitmap.</td>
</tr><tr>
    <td>   9</td>
    <td class="uncovered-line"> *</td>
</tr><tr>
    <td>  10</td>
    <td class="uncovered-line"> * @property rawLatex the LaTeX to render</td>
</tr><tr>
    <td>  11</td>
    <td class="uncovered-line"> * @property lineHeight the height (in pixels) of a text line (to help scale the LaTeX)</td>
</tr><tr>
    <td>  12</td>
    <td class="uncovered-line"> * @property useInlineRendering whether the LaTeX will be inlined with text</td>
</tr><tr>
    <td>  13</td>
    <td class="uncovered-line"> */</td>
</tr><tr>
    <td>  14</td>
    <td class="covered-line">data class MathModel(</td>
</tr><tr>
    <td>  15</td>
    <td class="covered-line">  val rawLatex: String,</td>
</tr><tr>
    <td>  16</td>
    <td class="covered-line">  val lineHeight: Float,</td>
</tr><tr>
    <td>  17</td>
    <td class="covered-line">  val useInlineRendering: Boolean</td>
</tr><tr>
    <td>  18</td>
    <td class="uncovered-line">) {</td>
</tr><tr>
    <td>  19</td>
    <td class="uncovered-line">  /** Returns a Glide [Key] signature (see [MathModelSignature] for specifics). */</td>
</tr><tr>
    <td>  20</td>
    <td class="uncovered-line">  fun toKeySignature(): MathModelSignature =</td>
</tr><tr>
    <td>  21</td>
    <td class="covered-line">    MathModelSignature.createSignature(rawLatex, lineHeight, useInlineRendering)</td>
</tr><tr>
    <td>  22</td>
    <td class="uncovered-line"></td>
</tr><tr>
    <td>  23</td>
    <td class="uncovered-line">  /**</td>
</tr><tr>
    <td>  24</td>
    <td class="uncovered-line">   * Glide [Key] that provides caching support by allowing individual renderable math scenarios to</td>
</tr><tr>
    <td>  25</td>
    <td class="uncovered-line">   * be comparable based on select parameters.</td>
</tr><tr>
    <td>  26</td>
    <td class="uncovered-line">   *</td>
</tr><tr>
    <td>  27</td>
    <td class="uncovered-line">   * @property rawLatex the raw LaTeX string used to render a cached bitmap</td>
</tr><tr>
    <td>  28</td>
    <td class="uncovered-line">   * @property lineHeightHundredX an [Int] representation of the 100x scaled line height from</td>
</tr><tr>
    <td>  29</td>
    <td class="uncovered-line">   *     [MathModel] (this is used to preserve up to 2 digits of the height, but any past that will</td>
</tr><tr>
    <td>  30</td>
    <td class="uncovered-line">   *     be truncated to reduce cache size for highly reusable cached renders)</td>
</tr><tr>
    <td>  31</td>
    <td class="uncovered-line">   * @property useInlineRendering whether the render is formatted to be displayed in-line with text</td>
</tr><tr>
    <td>  32</td>
    <td class="uncovered-line">   */</td>
</tr><tr>
    <td>  33</td>
    <td class="covered-line">  data class MathModelSignature(</td>
</tr><tr>
    <td>  34</td>
    <td class="covered-line">    val rawLatex: String,</td>
</tr><tr>
    <td>  35</td>
    <td class="covered-line">    val lineHeightHundredX: Int,</td>
</tr><tr>
    <td>  36</td>
    <td class="covered-line">    val useInlineRendering: Boolean</td>
</tr><tr>
    <td>  37</td>
    <td class="uncovered-line">  ) : Key {</td>
</tr><tr>
    <td>  38</td>
    <td class="uncovered-line">    // Impl reference: http://bumptech.github.io/glide/doc/caching.html#custom-cache-invalidation.</td>
</tr><tr>
    <td>  39</td>
    <td class="uncovered-line"></td>
</tr><tr>
    <td>  40</td>
    <td class="uncovered-line">    override fun updateDiskCacheKey(messageDigest: MessageDigest) {</td>
</tr><tr>
    <td>  41</td>
    <td class="covered-line">      val rawLatexBytes = rawLatex.encodeToByteArray()</td>
</tr><tr>
    <td>  42</td>
    <td class="covered-line">      messageDigest.update(</td>
</tr><tr>
    <td>  43</td>
    <td class="covered-line">        ByteBuffer.allocate(rawLatexBytes.size + Int.SIZE_BYTES + 1).apply {</td>
</tr><tr>
    <td>  44</td>
    <td class="covered-line">          put(rawLatexBytes)</td>
</tr><tr>
    <td>  45</td>
    <td class="covered-line">          putInt(lineHeightHundredX)</td>
</tr><tr>
    <td>  46</td>
    <td class="covered-line">          put(if (useInlineRendering) 1 else 0)</td>
</tr><tr>
    <td>  47</td>
    <td class="covered-line">        }.array()</td>
</tr><tr>
    <td>  48</td>
    <td class="uncovered-line">      )</td>
</tr><tr>
    <td>  49</td>
    <td class="covered-line">    }</td>
</tr><tr>
    <td>  50</td>
    <td class="uncovered-line"></td>
</tr><tr>
    <td>  51</td>
    <td class="uncovered-line">    internal companion object {</td>
</tr><tr>
    <td>  52</td>
    <td class="uncovered-line">      /** Returns a new [MathModelSignature] for the specified [MathModel] properties. */</td>
</tr><tr>
    <td>  53</td>
    <td class="uncovered-line">      internal fun createSignature(</td>
</tr><tr>
    <td>  54</td>
    <td class="uncovered-line">        rawLatex: String,</td>
</tr><tr>
    <td>  55</td>
    <td class="uncovered-line">        lineHeight: Float,</td>
</tr><tr>
    <td>  56</td>
    <td class="uncovered-line">        useInlineRendering: Boolean</td>
</tr><tr>
    <td>  57</td>
    <td class="uncovered-line">      ): MathModelSignature {</td>
</tr><tr>
    <td>  58</td>
    <td class="covered-line">        val lineHeightHundredX = (lineHeight * 100f).toInt()</td>
</tr><tr>
    <td>  59</td>
    <td class="covered-line">        return MathModelSignature(rawLatex, lineHeightHundredX, useInlineRendering)</td>
</tr><tr>
    <td>  60</td>
    <td class="uncovered-line">      }</td>
</tr><tr>
    <td>  61</td>
    <td class="uncovered-line">    }</td>
</tr><tr>
    <td>  62</td>
    <td class="uncovered-line">  }</td>
</tr><tr>
    <td>  63</td>
    <td class="uncovered-line">}</td>
</tr>    </tbody>
  </table>
</body>
</html>